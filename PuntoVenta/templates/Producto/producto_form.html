{% extends "base.html" %}

{% block title %}Nuevo Producto{% endblock %}

{% block style %}
    <style type="text/css">
        .errorlist{
            color: rgb(165, 58, 58);
        }
    </style>
{% endblock %}

{% block conte %}

<div class="panel panel-default offer">
    <div class="panel-heading">
        <h3>Producto</h3>
    </div>
    <div class="panel-body">
        <form role="form" method="POST">{% csrf_token %}
          {% if form.codigo.errors %}
            <div class="form-group has-error">
            {{form.codigo.errors}}
          {% elif form.codigo.is_valid %}
            <div class="form-group has-success">
          {% else %}
            <div class="form-group">
          {% endif %}
              <label class="control-label">Codigo</label>
              {{form.codigo}}
            </div>
          
          {% if form.descripcion.errors %}
            <div class="form-group has-error">
            {{form.descripcion.errors}}
          {% else %}
            <div class="form-group">
          {% endif %}
              <label class="control-label">Descripci√≥n</label>
              {{form.descripcion}}
            </div>

          {% if form.punitario.errors %}
            <div class="form-group has-error col-xs-6 mar-form">
            {{form.punitario.errors}}
          {% else %}
             <div class="form-group col-xs-6 mar-form">
          {% endif %}
              <label class="control-label">Precio unitario</label>
              {{form.punitario}}
            </div>
          
          {% if form.pmayoreo.errors %}
            <div class="form-group has-error col-xs-6 mar-form">
            {{form.pmayoreo.errors}}
          {% else %}
            <div class="form-group col-xs-6 mar-form">
          {% endif %}
              <label class="control-label">Precio mayoreo</label>
              {{form.pmayoreo}}
            </div>
          <hr>
            <div class="checkbox">
              <label>
                {{form.inventario}} Inventario
              </label>
            </div>
            <hr>       
          {% if form.cantidad.errors %}
            <div class="form-group has-error col-xs-6">
            {{form.cantidad.errors}}
          {% else %}
            <div class="form-group col-xs-6">
          {% endif %}
              <label class="control-label">Cantidad</label>
              {{form.cantidad}}
            </div>

          {% if form.minimo.errors %}
            <div class="form-group has-error col-xs-6">
            {{form.minimo.errors}}
          {% else %}
            <div class="form-group col-xs-6">
          {% endif %}
              <label class="control-label">Minimo</label>
              {{form.minimo}}
            </div>

            <button type="submit" class="btn btn-default pull-right"><span class="glyphicon glyphicon-floppy-saved"></span> Guardar</button>
        </form>
    </div>
    <div class="panel-footer">
      
    </div>
</div>



{% endblock %}

{% block script %}
    <script>
        $('#id_inventario').on('click', HabInventario);
        function HabInventario(){          
          if(document.getElementById("id_inventario").checked == false){
              document.getElementById("id_cantidad").disabled = true;
              document.getElementById("id_minimo").disabled = true;
          }else{
              document.getElementById("id_cantidad").disabled = false;
              document.getElementById("id_minimo").disabled = false;
          }
        }
        
        window.onload = function() {
           if(document.getElementById("id_inventario").checked == false){
              document.getElementById("id_cantidad").disabled = true;
              document.getElementById("id_minimo").disabled = true;
          }else{
              document.getElementById("id_cantidad").disabled = false;
              document.getElementById("id_minimo").disabled = false;
          }
        }
    </script>
{% endblock %}